"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6952],{9018:(e,t,a)=>{a.d(t,{Z:()=>n});var o=a(6598),l=["type"];const n={__name:"Button",props:{type:{type:String,default:"submit"},classes:{type:String,default:" focus:shadow-outline-gray transition ease-in-out duration-150"}},setup:function(e){return function(t,a){return(0,o.openBlock)(),(0,o.createElementBlock)("button",{type:e.type,class:(0,o.normalizeClass)(e.classes)},[(0,o.renderSlot)(t.$slots,"default")],10,l)}}}},7887:(e,t,a)=>{a.d(t,{Z:()=>n});var o=a(6598),l=["value","id","type","placeholder","autocomplete","step","readonly"];const n={__name:"Input",props:["modelValue","error","value","class","type","id","type","step","placeholder","autocomplete","readonly"],emits:["update:modelValue","getUserData"],setup:function(e){var t=e,a=(0,o.ref)(null);(0,o.onMounted)((function(){a.value.hasAttribute("autofocus")&&a.value.focus()}));var n=(0,o.computed)((function(){return null!=t.error?t.class+" is-invalid":t.class}));return function(t,r){var c;return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("input",(0,o.mergeProps)({class:(0,o.unref)(n),value:null!==(c=e.value)&&void 0!==c?c:e.modelValue,onInput:r[0]||(r[0]=function(e){return t.$emit("update:modelValue",e.target.value)}),ref_key:"input",ref:a,id:e.id,type:e.type,autofocus:"",placeholder:e.placeholder,autocomplete:e.autocomplete,onChange:r[1]||(r[1]=function(e){return t.$emit("getUserData")}),step:e.step,readonly:e.readonly},t.$attrs),null,16,l),(0,o.withDirectives)((0,o.createElementVNode)("span",{class:"text-danger"},(0,o.toDisplayString)(e.error),513),[[o.vShow,e.error]])],64)}}}},1329:(e,t,a)=>{a.d(t,{Z:()=>c});var o=a(6598),l={class:"block font-medium text-sm text-gray-700"},n={key:0},r={key:1};const c={__name:"Label",props:["value"],setup:function(e){return function(t,a){return(0,o.openBlock)(),(0,o.createElementBlock)("label",l,[e.value?((0,o.openBlock)(),(0,o.createElementBlock)("span",n,(0,o.toDisplayString)(e.value),1)):((0,o.openBlock)(),(0,o.createElementBlock)("span",r,[(0,o.renderSlot)(t.$slots,"default")]))])}}}},4075:(e,t,a)=>{a.d(t,{Z:()=>w});var o=a(6598),l=a(2262),n=a(1329),r=a(7887),c=a(9018),s=a(9038),u={class:"row mt-2"},d={class:"col-md-12"},i={class:"card card-primary card-outline collapsed-card"},p={class:"card-header"},m={class:"card-title text-bold"},f={class:"mr-1"},h=(0,o.createTextVNode)(" Filter Data "),k={class:"card-tools"},v={class:"card-body"},V={class:"row"},b={key:0,class:"col-md-4"},y={key:0,class:"card-footer"},B={class:"mr-1"},g=(0,o.createTextVNode)(" SEARCH "),N={class:"mr-1"},E=(0,o.createTextVNode)(" RESET FILTER ");const w={__name:"TableFilter",props:{showSearch:{type:Boolean,default:!0},showSearchBtn:{type:Boolean,default:!0},showResetBtn:{type:Boolean,default:!1},resetLink:{type:String,default:""},showFooter:{type:Boolean,default:!0},label:{type:String,default:"Search"},placeholder:{type:String,default:"Search"}},setup:function(e){var t=(0,l.qj)({isExpanded:!1,search:""}),a=function(){t.isExpanded=!t.isExpanded};return function(l,w){var C=(0,o.resolveComponent)("font-awesome-icon");return(0,o.openBlock)(),(0,o.createElementBlock)("div",u,[(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("h3",m,[(0,o.createElementVNode)("span",f,[(0,o.createVNode)(C,{icon:["fas","arrow-down-wide-short"]})]),h]),(0,o.createElementVNode)("div",k,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-tool",onClick:a,"data-card-widget":"collapse",title:"Collapse"},[(0,o.createVNode)(C,{icon:["fas",(0,o.unref)(t).isExpanded?"minus":"plus"]},null,8,["icon"])])])]),(0,o.createElementVNode)("div",v,[(0,o.createElementVNode)("div",V,[(0,o.renderSlot)(l.$slots,"default"),e.showSearch?((0,o.openBlock)(),(0,o.createElementBlock)("div",b,[(0,o.createVNode)(n.Z,{for:"search",value:e.label},null,8,["value"]),(0,o.createVNode)(r.Z,{type:"text",class:"form-control",modelValue:(0,o.unref)(t).search,"onUpdate:modelValue":w[0]||(w[0]=function(e){return(0,o.unref)(t).search=e}),placeholder:e.placeholder,onKeyup:w[1]||(w[1]=(0,o.withKeys)((function(e){return l.$emit("filterTable",(0,o.unref)(t).search)}),["enter"]))},null,8,["modelValue","placeholder"])])):(0,o.createCommentVNode)("",!0)])]),e.showFooter?((0,o.openBlock)(),(0,o.createElementBlock)("div",y,[e.showSearchBtn?((0,o.openBlock)(),(0,o.createBlock)(c.Z,{key:0,type:"button",class:"btn btn-danger btn-sm float-right",onClick:w[2]||(w[2]=function(e){return l.$emit("filterTable",(0,o.unref)(t).search)})},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("span",B,[(0,o.createVNode)(C,{icon:["fas","magnifying-glass"]})]),g]})),_:1})):(0,o.createCommentVNode)("",!0),e.showResetBtn?((0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(s.rU),{key:1,type:"button",class:"btn btn-danger btn-sm float-right",href:e.resetLink},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("span",N,[(0,o.createVNode)(C,{icon:["fas","eraser"]})]),E]})),_:1},8,["href"])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0)])])])}}}},6952:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var o=a(6598),l=a(1329),n=(a(7887),a(9018),a(9680)),r=a(2262),c=a(4075),s={class:"col-md-4"},u={class:"col-md-4"};const d={__name:"Filter",props:{camps:Object,blocks:Object},setup:function(e){var t,a,d,i,p,m,f,h=e,k=(0,r.qj)({campBlocks:h.blocks}),v=(0,r.qj)({page:null!==(t=route().params.page)&&void 0!==t?t:1,sort:null!==(a=route().params.sort)&&void 0!==a?a:"desc",name:null!==(d=route().params.name)&&void 0!==d?d:"id",max_count:null!==(i=route().params.max_count)&&void 0!==i?i:10,search:null!==(p=route().params.search)&&void 0!==p?p:"",camp:null!==(m=route().params.camp)&&void 0!==m?m:"",block:null!==(f=route().params.block)&&void 0!==f?f:""}),V=function(e){v.search=e,n.Inertia.get("desludge",v,{preserveState:!0})};return function(t,a){var n=(0,o.resolveComponent)("multi-select");return(0,o.openBlock)(),(0,o.createBlock)(c.Z,{onFilterTable:V},{default:(0,o.withCtx)((function(){return[(0,o.createElementVNode)("div",s,[(0,o.createVNode)(l.Z,{for:"camp",value:"Camp"}),(0,o.createVNode)(n,{modelValue:(0,o.unref)(v).camp,"onUpdate:modelValue":a[0]||(a[0]=function(e){return(0,o.unref)(v).camp=e}),onChange:a[1]||(a[1]=function(e){return function(e){if(null!=e&&(v.block="",k.campBlocks=h.blocks.filter((function(t){return e==t.camp_id}))),null!=e&&0==k.campBlocks.length){var t={params:{camp_id:e}};v.block="",axios.get("latrine/create",t).then((function(e){k.campBlocks=e.data})).catch((function(e){toast.warning(e)}))}}(e)}),options:e.camps,placeholder:"Choose a camp",searchable:!0},null,8,["modelValue","options"])]),(0,o.createElementVNode)("div",u,[(0,o.createVNode)(l.Z,{for:"block",value:"Block"}),(0,o.createVNode)(n,{modelValue:(0,o.unref)(v).block,"onUpdate:modelValue":a[2]||(a[2]=function(e){return(0,o.unref)(v).block=e}),searchable:!0,options:(0,o.unref)(k).campBlocks,placeholder:"Choose a block"},null,8,["modelValue","options"])])]})),_:1})}}}}}]);