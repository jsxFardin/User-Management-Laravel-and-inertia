"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9243],{9018:(e,a,o)=>{o.d(a,{Z:()=>l});var t=o(6598),r=["type"];const l={__name:"Button",props:{type:{type:String,default:"submit"},classes:{type:String,default:" focus:shadow-outline-gray transition ease-in-out duration-150"}},setup:function(e){return function(a,o){return(0,t.openBlock)(),(0,t.createElementBlock)("button",{type:e.type,class:(0,t.normalizeClass)(e.classes)},[(0,t.renderSlot)(a.$slots,"default")],10,r)}}}},7887:(e,a,o)=>{o.d(a,{Z:()=>l});var t=o(6598),r=["value","id","type","placeholder","autocomplete","step","readonly"];const l={__name:"Input",props:["modelValue","error","value","class","type","id","type","step","placeholder","autocomplete","readonly"],emits:["update:modelValue","getUserData"],setup:function(e){var a=e,o=(0,t.ref)(null);(0,t.onMounted)((function(){o.value.hasAttribute("autofocus")&&o.value.focus()}));var l=(0,t.computed)((function(){return null!=a.error?a.class+" is-invalid":a.class}));return function(a,n){var c;return(0,t.openBlock)(),(0,t.createElementBlock)(t.Fragment,null,[(0,t.createElementVNode)("input",(0,t.mergeProps)({class:(0,t.unref)(l),value:null!==(c=e.value)&&void 0!==c?c:e.modelValue,onInput:n[0]||(n[0]=function(e){return a.$emit("update:modelValue",e.target.value)}),ref_key:"input",ref:o,id:e.id,type:e.type,autofocus:"",placeholder:e.placeholder,autocomplete:e.autocomplete,onChange:n[1]||(n[1]=function(e){return a.$emit("getUserData")}),step:e.step,readonly:e.readonly},a.$attrs),null,16,r),(0,t.withDirectives)((0,t.createElementVNode)("span",{class:"text-danger"},(0,t.toDisplayString)(e.error),513),[[t.vShow,e.error]])],64)}}}},1329:(e,a,o)=>{o.d(a,{Z:()=>c});var t=o(6598),r={class:"block font-medium text-sm text-gray-700"},l={key:0},n={key:1};const c={__name:"Label",props:["value"],setup:function(e){return function(a,o){return(0,t.openBlock)(),(0,t.createElementBlock)("label",r,[e.value?((0,t.openBlock)(),(0,t.createElementBlock)("span",l,(0,t.toDisplayString)(e.value),1)):((0,t.openBlock)(),(0,t.createElementBlock)("span",n,[(0,t.renderSlot)(a.$slots,"default")]))])}}}},9243:(e,a,o)=>{o.r(a),o.d(a,{default:()=>B});var t=o(6598),r=o(1329),l=o(7887),n=o(9018);o(9680);var c={class:"form-row"},s={class:"form-group col-md-6"},m={key:0,class:"text-danger"},u={class:"form-group col-md-6"},d={class:"form-group col-md-6"},i={key:0,class:"form-group col-md-6"},p={class:"form-group col-md-6"},f={class:"form-group col-md-6"},v={key:1,class:"col-md-12"},V=(0,t.createElementVNode)("hr",null,null,-1),g={class:"form-row mb-4"},N={class:"col-md-4"},k={class:"form-group"},y={key:0,class:"text-danger"},D={class:"col-md-8"},b={class:"form-group"},_={key:0,class:"text-danger"},h={class:"col-md-12 text-right"},E=(0,t.createTextVNode)("SAVE");const B={__name:"Form",props:{formData:Object,agencies:Object,campNames:{type:Array,default:null},blockNames:{type:Array,default:null},password:{type:Boolean,default:!0}},setup:function(e){var a,o,B=e,w=(0,t.reactive)({campNames:null!==(a=B.campNames)&&void 0!==a?a:null,blockNames:null!==(o=B.blockNames)&&void 0!==o?o:null,password:B.password,campCount:B.campNames&&B.campNames.length>0?B.campNames.length:"",assigns:[]}),C=function(e){var a,o,t,r,l,n;B.formData.role_id=null!==(a=e.user&&e.user.role_id)&&void 0!==a?a:"",B.formData.user_id=null!==(o=e.user&&e.user.id)&&void 0!==o?o:"",B.formData.mobile=null!==(t=e.user&&e.user.mobile)&&void 0!==t?t:"",B.formData.contact_person=null!==(r=e.user&&e.user.name)&&void 0!==r?r:"",B.formData.agency=null!==(l=e.agency)&&void 0!==l?l:[],B.formData.team=null!==(n=e.team)&&void 0!==n?n:[],w.password=!e.user||!e.user.id};return function(a,o){var Z=(0,t.resolveComponent)("multi-select");return(0,t.openBlock)(),(0,t.createElementBlock)("div",c,[(0,t.createElementVNode)("div",s,[(0,t.createVNode)(r.Z,{for:"agency_id",value:"Agency Name"}),(0,t.createVNode)(Z,{modelValue:e.formData.agency_id,"onUpdate:modelValue":o[0]||(o[0]=function(a){return e.formData.agency_id=a}),options:e.agencies,placeholder:"Choose a agency",onChange:o[1]||(o[1]=function(e){return function(e){if(null!=e){var a={params:{agency_id:e}};B.formData.assigns=[],w.campNames=null,w.blockNames=null,axios.get("ajax/block-details",a).then((function(e){var a=e.data.camps;if(0!=Object.keys(a).length)for(var o=0;o<Object.keys(a).length;o++){var t={camp_id:a[o].value,block_id:[]};B.formData.assigns.push(t)}w.campNames=a,w.blockNames=e.data.blocks,w.campCount=a.length})).catch((function(e){console.error(e,"error"),toast.warning(e)}))}}(e)}),searchable:!0},null,8,["modelValue","options"]),e.formData.errors.agency_id?((0,t.openBlock)(),(0,t.createElementBlock)("span",m,(0,t.toDisplayString)(e.formData.errors.agency_id),1)):(0,t.createCommentVNode)("",!0)]),(0,t.createElementVNode)("div",u,[(0,t.createVNode)(r.Z,{for:"team_name",value:"Team Name"}),(0,t.createVNode)(l.Z,{id:"team_name",type:"text",class:"form-control",modelValue:e.formData.team_name,"onUpdate:modelValue":o[2]||(o[2]=function(a){return e.formData.team_name=a}),placeholder:"Team Name",autocomplete:e.formData.team_name,error:e.formData.errors.team_name},null,8,["modelValue","autocomplete","error"])]),(0,t.createElementVNode)("div",d,[(0,t.createVNode)(r.Z,{for:"email",value:"Email"}),(0,t.createVNode)(l.Z,{id:"email",type:"email",class:"form-control",modelValue:e.formData.email,"onUpdate:modelValue":o[3]||(o[3]=function(a){return e.formData.email=a}),placeholder:"Email",autocomplete:e.formData.email,error:e.formData.errors.email,onGetUserData:o[4]||(o[4]=function(e){return function(){if(""!=B.formData.email){var e={params:{email:B.formData.email,mobile:B.formData.mobile}};axios.get("ajax/user-details",e).then((function(e){var a=e.data;null!=a.user?C(a):C([])})).catch((function(e){toast.warning(e)}))}}()})},null,8,["modelValue","autocomplete","error"])]),(0,t.unref)(w).password?((0,t.openBlock)(),(0,t.createElementBlock)("div",i,[(0,t.createVNode)(r.Z,{for:"password",value:"Password"}),(0,t.createVNode)(l.Z,{id:"password",type:"password",class:"form-control",modelValue:e.formData.password,"onUpdate:modelValue":o[5]||(o[5]=function(a){return e.formData.password=a}),placeholder:"Password",autocomplete:e.formData.password,error:e.formData.errors.password},null,8,["modelValue","autocomplete","error"])])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",p,[(0,t.createVNode)(r.Z,{for:"contact_person",value:"Contact Person Name"}),(0,t.createVNode)(l.Z,{id:"contact_person",type:"text",class:"form-control",modelValue:e.formData.contact_person,"onUpdate:modelValue":o[6]||(o[6]=function(a){return e.formData.contact_person=a}),placeholder:"Contact Person Name",autocomplete:e.formData.contact_person,error:e.formData.errors.contact_person},null,8,["modelValue","autocomplete","error"])]),(0,t.createElementVNode)("div",f,[(0,t.createVNode)(r.Z,{for:"mobile",value:"Mobile"}),(0,t.createVNode)(l.Z,{id:"mobile",type:"text",class:"form-control",modelValue:e.formData.mobile,"onUpdate:modelValue":o[7]||(o[7]=function(a){return e.formData.mobile=a}),placeholder:"Contact Person Mobile",autocomplete:e.formData.mobile,error:e.formData.errors.mobile},null,8,["modelValue","autocomplete","error"])]),(0,t.unref)(w).campNames?((0,t.openBlock)(),(0,t.createElementBlock)("div",v,[V,(0,t.createElementVNode)("div",g,[((0,t.openBlock)(!0),(0,t.createElementBlock)(t.Fragment,null,(0,t.renderList)(e.formData.assigns,(function(a,o){return(0,t.openBlock)(),(0,t.createElementBlock)("div",{class:"row col-md-12",key:o},[(0,t.createElementVNode)("div",N,[(0,t.createElementVNode)("div",k,[(0,t.createVNode)(r.Z,{for:"camp_id",value:"Camp"}),(0,t.createVNode)(l.Z,{id:"camp",type:"text",class:"form-control",value:(0,t.unref)(w).campNames[o].label,placeholder:"camp Name",readonly:""},null,8,["value"]),e.formData.errors["assigns.".concat(o,".camp_id")]?((0,t.openBlock)(),(0,t.createElementBlock)("span",y,(0,t.toDisplayString)(e.formData.errors["assigns.".concat(o,".camp_id")]),1)):(0,t.createCommentVNode)("",!0)])]),(0,t.createElementVNode)("div",D,[(0,t.createElementVNode)("div",b,[(0,t.createVNode)(r.Z,{for:"block_id",value:"Block"}),(0,t.createVNode)(Z,{modelValue:a.block_id,"onUpdate:modelValue":function(e){return a.block_id=e},options:(0,t.unref)(w).blockNames[o],placeholder:"Choose a block",mode:"tags",searchable:!0},null,8,["modelValue","onUpdate:modelValue","options"]),e.formData.errors["assigns.".concat(o,".block_id")]?((0,t.openBlock)(),(0,t.createElementBlock)("span",_,(0,t.toDisplayString)(e.formData.errors["assigns.".concat(o,".block_id")]),1)):(0,t.createCommentVNode)("",!0)])])])})),128))])])):(0,t.createCommentVNode)("",!0),(0,t.createElementVNode)("div",h,[(0,t.createVNode)(n.Z,{class:"btn btn-success",disabled:e.formData.processing},{default:(0,t.withCtx)((function(){return[E]})),_:1},8,["disabled"])])])}}}}}]);