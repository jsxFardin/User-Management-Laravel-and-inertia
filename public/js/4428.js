"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4428],{9018:(e,o,t)=>{t.d(o,{Z:()=>n});var a=t(6598),r=["type"];const n={__name:"Button",props:{type:{type:String,default:"submit"},classes:{type:String,default:" focus:shadow-outline-gray transition ease-in-out duration-150"}},setup:function(e){return function(o,t){return(0,a.openBlock)(),(0,a.createElementBlock)("button",{type:e.type,class:(0,a.normalizeClass)(e.classes)},[(0,a.renderSlot)(o.$slots,"default")],10,r)}}}},8962:(e,o,t)=>{t.d(o,{Z:()=>u});var a=t(6598),r=t(2262),n={class:"card"},l={key:0,class:"card-header"},c={class:"card-title text-bold"},s={class:"card-body"};const u={__name:"Card",props:{title:{type:String,default:"Card Title"},showHeader:{type:Boolean,default:!1}},setup:function(e){var o=function(){t.fullscreen=!t.fullscreen},t=(0,r.qj)({fullscreen:!1});return function(r,u){var m=(0,a.resolveComponent)("font-awesome-icon"),d=(0,a.resolveComponent)("fullscreen");return(0,a.openBlock)(),(0,a.createBlock)(d,{modelValue:(0,a.unref)(t).fullscreen,"onUpdate:modelValue":u[0]||(u[0]=function(e){return(0,a.unref)(t).fullscreen=e}),"page-only":(0,a.unref)(t).pageOnly},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",n,[e.showHeader?((0,a.openBlock)(),(0,a.createElementBlock)("div",l,[(0,a.createElementVNode)("h3",c,(0,a.toDisplayString)(e.title),1),(0,a.createElementVNode)("button",{class:"float-right btn btn-danger btn-sm",onClick:o},[(0,a.createVNode)(m,{icon:["fas","expand"]})])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",s,[(0,a.renderSlot)(r.$slots,"default")])])]})),_:3},8,["modelValue","page-only"])}}}},7887:(e,o,t)=>{t.d(o,{Z:()=>n});var a=t(6598),r=["value","id","type","placeholder","autocomplete","step","readonly"];const n={__name:"Input",props:["modelValue","error","value","class","type","id","type","step","placeholder","autocomplete","readonly"],emits:["update:modelValue","getUserData"],setup:function(e){var o=e,t=(0,a.ref)(null);(0,a.onMounted)((function(){t.value.hasAttribute("autofocus")&&t.value.focus()}));var n=(0,a.computed)((function(){return null!=o.error?o.class+" is-invalid":o.class}));return function(o,l){var c;return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("input",(0,a.mergeProps)({class:(0,a.unref)(n),value:null!==(c=e.value)&&void 0!==c?c:e.modelValue,onInput:l[0]||(l[0]=function(e){return o.$emit("update:modelValue",e.target.value)}),ref_key:"input",ref:t,id:e.id,type:e.type,autofocus:"",placeholder:e.placeholder,autocomplete:e.autocomplete,onChange:l[1]||(l[1]=function(e){return o.$emit("getUserData")}),step:e.step,readonly:e.readonly},o.$attrs),null,16,r),(0,a.withDirectives)((0,a.createElementVNode)("span",{class:"text-danger"},(0,a.toDisplayString)(e.error),513),[[a.vShow,e.error]])],64)}}}},1329:(e,o,t)=>{t.d(o,{Z:()=>c});var a=t(6598),r={class:"block font-medium text-sm text-gray-700"},n={key:0},l={key:1};const c={__name:"Label",props:["value"],setup:function(e){return function(o,t){return(0,a.openBlock)(),(0,a.createElementBlock)("label",r,[e.value?((0,a.openBlock)(),(0,a.createElementBlock)("span",n,(0,a.toDisplayString)(e.value),1)):((0,a.openBlock)(),(0,a.createElementBlock)("span",l,[(0,a.renderSlot)(o.$slots,"default")]))])}}}},4428:(e,o,t)=>{t.r(o),t.d(o,{default:()=>O});var a=t(6598),r=(t(8962),t(7887)),n=t(9018),l=t(1329),c=t(2262),s=t(6252);function u(e,o){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,o){if(!e)return;if("string"==typeof e)return m(e,o);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,o)}(e))||o&&e&&"number"==typeof e.length){t&&(e=t);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return l=e.done,e},e:function(e){c=!0,n=e},f:function(){try{l||null==t.return||t.return()}finally{if(c)throw n}}}}function m(e,o){(null==o||o>e.length)&&(o=e.length);for(var t=0,a=new Array(o);t<o;t++)a[t]=e[t];return a}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}var i={class:"form-row"},f={class:"form-group col-md-6"},p={class:"form-group col-md-6"},y={class:"form-group col-md-6"},V={class:"form-group col-md-6"},g={class:"form-group col-md-6"},v={class:"form-group col-md-6"},b={class:"form-group col-md-6"},N=(0,a.createElementVNode)("hr",null,null,-1),h={key:0,class:"form-row mb-4"},D={class:"col-md-12"},k=(0,a.createTextVNode)("Add "),w={class:"col-md-5"},E={class:"form-group"},_={key:0,class:"text-danger"},B={class:"col-md-6"},C={class:"form-group"},S={key:0,class:"text-danger"},Z={class:"m-auto col-md-1"},x={key:0,class:"form-group mt-2"},U=["onClick"],j=(0,a.createTextVNode)(" Remove "),A=(0,a.createTextVNode)("Save");const O={__name:"Form",props:{formData:Object,teamNames:Object,roles:Object,agency:Object,position:Object},setup:function(e){var o=e,t=(0,c.qj)({teamNames:o.formData.id?o.teamNames:[o.teamNames]}),m=(0,s.Fl)((function(){return storeData.getters.getAuthUser.agencies})),O=function(){var e,t=[],a=u(o.formData.row);try{for(a.s();!(e=a.n()).done;){var r=e.value;""!=r.agency_id&&null!=r.agency_id&&t.push(r.agency_id)}}catch(e){a.e(e)}finally{a.f()}if(t.length>0){o.agency.map((function(e){t.includes(e.value)?e.disabled=!0:e.disabled=!1}));o.formData.row.push({agency_id:"",team_id:[]}),o.formData.errors={}}else o.formData.errors["row.0.agency_id"]="Please select agency first."};return function(c,s){var u=(0,a.resolveComponent)("multi-select"),P=(0,a.resolveComponent)("font-awesome-icon");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createElementVNode)("div",i,[(0,a.createElementVNode)("div",f,[(0,a.createVNode)(l.Z,{for:"name",value:"Name"}),(0,a.createVNode)(r.Z,{id:"name",type:"text",class:"form-control",modelValue:o.formData.name,"onUpdate:modelValue":s[0]||(s[0]=function(e){return o.formData.name=e}),autofocus:"",placeholder:"Name",autocomplete:o.formData.name,error:o.formData.errors.name},null,8,["modelValue","autocomplete","error"])]),(0,a.createElementVNode)("div",p,[(0,a.createVNode)(l.Z,{for:"username",value:"User Name"}),(0,a.createVNode)(r.Z,{id:"username",type:"text",class:"form-control",modelValue:o.formData.username,"onUpdate:modelValue":s[1]||(s[1]=function(e){return o.formData.username=e}),autofocus:"",placeholder:"username",autocomplete:o.formData.username,error:o.formData.errors.username},null,8,["modelValue","autocomplete","error"])]),(0,a.createElementVNode)("div",y,[(0,a.createVNode)(l.Z,{for:"email",value:"Email"}),(0,a.createVNode)(r.Z,{id:"email",type:"email",class:"form-control",modelValue:o.formData.email,"onUpdate:modelValue":s[2]||(s[2]=function(e){return o.formData.email=e}),autofocus:"",placeholder:"Email",autocomplete:o.formData.email,error:o.formData.errors.email},null,8,["modelValue","autocomplete","error"])]),(0,a.createElementVNode)("div",V,[(0,a.createVNode)(l.Z,{for:"password",value:"Password"}),(0,a.createVNode)(r.Z,{id:"password",type:"password",class:"form-control",modelValue:o.formData.password,"onUpdate:modelValue":s[3]||(s[3]=function(e){return o.formData.password=e}),placeholder:"Password",autofocus:"",autocomplete:o.formData.password,error:o.formData.errors.password},null,8,["modelValue","autocomplete","error"])]),(0,a.createElementVNode)("div",g,[(0,a.createVNode)(l.Z,{for:"mobile",value:"Phone"}),(0,a.createVNode)(r.Z,{id:"mobile",type:"phone",class:"form-control",modelValue:o.formData.mobile,"onUpdate:modelValue":s[4]||(s[4]=function(e){return o.formData.mobile=e}),autofocus:"",placeholder:"Phone",autocomplete:o.formData.mobile,error:o.formData.errors.mobile},null,8,["modelValue","autocomplete","error"])]),(0,a.createElementVNode)("div",v,[(0,a.createVNode)(l.Z,{for:"position_id",value:"Position"}),(0,a.createVNode)(u,{modelValue:o.formData.position_id,"onUpdate:modelValue":s[5]||(s[5]=function(e){return o.formData.position_id=e}),options:e.position,searchable:!0,placeholder:"Choose a position"},null,8,["modelValue","options"])]),(0,a.createElementVNode)("div",b,[(0,a.createVNode)(l.Z,{for:"roles",value:"Roles"}),(0,a.createVNode)(u,{modelValue:o.formData.roles,"onUpdate:modelValue":s[6]||(s[6]=function(e){return o.formData.roles=e}),options:e.roles,searchable:!0,placeholder:"Choose a role"},null,8,["modelValue","options"])])]),N,(0,a.unref)(m).length>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,[(0,a.createElementVNode)("div",D,[(0,a.createElementVNode)("button",{class:"btn btn-info btn-sm float-right",type:"button",onClick:O},[(0,a.createVNode)(P,{icon:["fas","plus"]}),k])]),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.formData.row,(function(r,n){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"row col-md-12",key:n},[(0,a.createElementVNode)("div",w,[(0,a.createElementVNode)("div",E,[(0,a.createVNode)(l.Z,{for:"agency_id",value:"Agency Name"}),(0,a.createVNode)(u,{modelValue:r.agency_id,"onUpdate:modelValue":function(e){return r.agency_id=e},options:e.agency,searchable:!0,placeholder:"Choose a agency",onChange:function(e){return function(e,a){if(null!=e){var r={params:{agency_id:e}};o.formData.row[a].team_id=[],axios.get("ajax/team-details",r).then((function(e){"object"==d(e.data)&&(t.teamNames[a]=e.data)})).catch((function(e){toast.warning(e)}))}else o.formData.row[a].team_id=[],t.teamNames[a]=[]}(e,n)}},null,8,["modelValue","onUpdate:modelValue","options","onChange"]),o.formData.errors["row.".concat(n,".agency_id")]?((0,a.openBlock)(),(0,a.createElementBlock)("span",_,(0,a.toDisplayString)(o.formData.errors["row.".concat(n,".agency_id")]),1)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",B,[(0,a.createElementVNode)("div",C,[(0,a.createVNode)(l.Z,{for:"team_id",value:"Team Name"}),(0,a.createVNode)(u,{modelValue:r.team_id,"onUpdate:modelValue":function(e){return r.team_id=e},options:(0,a.unref)(t).teamNames[n],placeholder:"Choose a team",searchable:!0,mode:"tags"},null,8,["modelValue","onUpdate:modelValue","options"]),o.formData.errors["row.".concat(n,".team_id")]?((0,a.openBlock)(),(0,a.createElementBlock)("span",S,(0,a.toDisplayString)(o.formData.errors["row.".concat(n,".team_id")]),1)):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",Z,[0!=n?((0,a.openBlock)(),(0,a.createElementBlock)("div",x,[(0,a.createElementVNode)("button",{type:"button",class:"btn btn-danger btn-sm float-right",onClick:function(e){return function(e,a){t.teamNames.splice(e,1),o.formData.row.splice(e,1),o.agency.map((function(e){e.value==a&&(e.disabled=!e.disabled)}))}(n,r.agency_id)}},[(0,a.createVNode)(P,{icon:["fas","trash"]}),j],8,U)])):(0,a.createCommentVNode)("",!0)])])})),128))])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(n.Z,{class:"btn btn-success float-right",disabled:e.formData.processing},{default:(0,a.withCtx)((function(){return[A]})),_:1},8,["disabled"])],64)}}}}}]);